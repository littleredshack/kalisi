<div class="hud-panel"
     [style.opacity]="panelOpacity()"
     [style.left.px]="position().x"
     [style.top.px]="position().y"
     [style.z-index]="zIndex()"
     (mousedown)="onPanelClick()">
  <!-- Header -->
  <div class="hud-panel-header"
       (mousedown)="startDrag($event)"
       [class.dragging]="isDragging()">
    <div class="header-icon">
      <i class="pi" [ngClass]="icon"></i>
    </div>
    <span class="panel-title">{{ title }}</span>
    <button class="close-btn" (click)="onClose($event)">Ã—</button>
  </div>

  <!-- Content Area -->
  <div class="hud-panel-content">
    <ng-content></ng-content>
  </div>

  <!-- Footer with Opacity Control -->
  <div class="hud-panel-footer">
    <label>
      <span>Opacity</span>
      <span>{{ (panelOpacity() * 100) | number:'1.0-0' }}%</span>
    </label>
    <input type="range"
           [ngModel]="panelOpacity() * 100"
           (ngModelChange)="setOpacity($event / 100)"
           min="0"
           max="100"
           step="5">
  </div>
</div>
